{"ast":null,"code":"import { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { useRouter } from \"next/router\";\nimport Head from 'next/head';\nimport React, { useEffect, useState } from \"react\";\nimport Navigation from \"../../../components/Navigation\";\nimport requestPokemonDetail from \"../../../graphql/requestPokemonDetail\";\nimport ImageLoader from \"../../../components/ImageLoader\";\nimport { Carousel } from 'react-responsive-carousel';\nimport \"react-responsive-carousel/lib/styles/carousel.min.css\"; // requires a loader\n\nimport toTitleCase, { kebabToTitleCase, snakeToTitleCase } from \"../../../helper/TitleCase\";\nimport { motion } from 'framer-motion';\nimport Loader from \"../../../components/Loader\";\nimport CatchPokeballModal from \"../../../components/CatchPokeballModal\";\nimport { ToastContainer } from \"react-toastify\";\nexport default function DynamicPage() {\n  var router = useRouter();\n  var name = router.query.name;\n\n  var _useState = useState(null),\n      pokemon = _useState[0],\n      updatePokemon = _useState[1];\n\n  var _useState2 = useState(false),\n      showModal = _useState2[0],\n      updateShowModal = _useState2[1];\n\n  var _useState3 = useState('idle'),\n      pokeballState = _useState3[0],\n      updatePokeballState = _useState3[1];\n\n  var id = name;\n  useEffect(function () {\n    // @ts-ignore\n    if (name) requestPokemonDetail(id).then(function (_ref) {\n      var data = _ref.data;\n      var pokemon = data.pokemon;\n      if (pokemon.id) updatePokemon(pokemon); // updateShowModal(true);\n    });\n  }, [name]);\n  var content;\n\n  if (pokemon) {\n    var imgList = {};\n    var catchVariants = {\n      hover: {\n        scale: 1.2\n      },\n      idle: {\n        y: [0, -10],\n        rotateZ: [180, 360],\n        transition: {\n          y: {\n            yoyo: Infinity,\n            type: 'spring',\n            stiffness: 300,\n            duration: 0.5\n          },\n          rotateZ: {\n            yoyo: Infinity,\n            duration: 1\n          }\n        }\n      }\n    };\n    Object.keys(pokemon.sprites).forEach(function (key) {\n      return pokemon.sprites[key] ? imgList[key] = pokemon.sprites[key] : null;\n    });\n    var imgChildren = Object.keys(imgList).map(function (key) {\n      return /*#__PURE__*/_jsxs(\"div\", {\n        className: \"bg-gray-600\",\n        children: [/*#__PURE__*/_jsx(ImageLoader, {\n          style: {},\n          src: imgList[key],\n          loading: function loading() {\n            return /*#__PURE__*/_jsx(Loader, {\n              size: \"70px\"\n            });\n          },\n          error: function error() {\n            return /*#__PURE__*/_jsx(\"div\", {\n              children: \"Error\"\n            });\n          }\n        }), /*#__PURE__*/_jsx(\"p\", {\n          className: \"legend\",\n          children: snakeToTitleCase(key)\n        })]\n      });\n    });\n    content = /*#__PURE__*/_jsxs(\"div\", {\n      className: \"bg-white shadow overflow-hidden sm:rounded-lg\",\n      children: [/*#__PURE__*/_jsxs(\"div\", {\n        className: \"px-4 py-5 flex justify-center flex-wrap\",\n        children: [/*#__PURE__*/_jsx(Carousel, {\n          autoPlay: true,\n          infiniteLoop: true,\n          showThumbs: false,\n          className: \"w-full max-w-screen-sm\",\n          children: imgChildren\n        }), /*#__PURE__*/_jsx(\"div\", {\n          className: \"w-full h-3\"\n        }), /*#__PURE__*/_jsxs(motion.div, {\n          animate: {},\n          onHoverStart: function onHoverStart() {\n            return updatePokeballState('hover');\n          },\n          onHoverEnd: function onHoverEnd() {\n            return updatePokeballState('idle');\n          },\n          onClick: function onClick() {\n            return updateShowModal(true);\n          },\n          className: \"bg-pokeball rounded-full font-bold text-white px-4 py-3 hover:ring-4 hover:ring-black-500 mr-6 flex\",\n          children: [/*#__PURE__*/_jsx(\"p\", {\n            className: \"place-self-center mx-2\",\n            children: \"Catch Me!\"\n          }), /*#__PURE__*/_jsx(motion.img, {\n            variants: catchVariants,\n            animate: pokeballState,\n            className: \"h-6 w-auto m-2\",\n            src: \"https://pokedex.stevenhansel.com/assets/images/pokeball.png\",\n            alt: \"Pokemon Mini\"\n          })]\n        })]\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"px-4 py-5 mt-base sm:px-6\",\n        children: /*#__PURE__*/_jsx(\"h3\", {\n          className: \"text-lg leading-6 font-medium text-gray-900\",\n          children: toTitleCase(pokemon.name)\n        })\n      }), /*#__PURE__*/_jsx(\"div\", {\n        className: \"border-t border-gray-200\",\n        children: /*#__PURE__*/_jsxs(\"dl\", {\n          children: [/*#__PURE__*/_jsxs(\"div\", {\n            className: \"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsx(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Base Experience\"\n            }), /*#__PURE__*/_jsx(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",\n              children: pokemon.base_experience\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsx(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Height\"\n            }), /*#__PURE__*/_jsx(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",\n              children: pokemon.height\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsx(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Ability\"\n            }), /*#__PURE__*/_jsx(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2 flex flex-wrap\",\n              children: pokemon.abilities.map(function (ab) {\n                return /*#__PURE__*/_jsx(\"div\", {\n                  className: \"p-1 m-1 text-xs inline-flex items-center font-bold leading-sm uppercase px-3 py-1 bg-green-200 text-green-700 rounded-full\",\n                  children: ab.ability.name\n                });\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"bg-gray-50 px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsx(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Move\"\n            }), /*#__PURE__*/_jsx(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",\n              children: pokemon.moves.map(function (move) {\n                return /*#__PURE__*/_jsx(\"div\", {\n                  className: \" p-1 m-1 text-xs inline-flex items-center font-bold leading-sm uppercase px-3 py-1 bg-blue-200 text-blue-700 rounded-full\",\n                  children: kebabToTitleCase(move.move.name)\n                });\n              })\n            })]\n          }), /*#__PURE__*/_jsxs(\"div\", {\n            className: \"bg-white px-4 py-5 sm:grid sm:grid-cols-3 sm:gap-4 sm:px-6\",\n            children: [/*#__PURE__*/_jsx(\"dt\", {\n              className: \"text-sm font-medium text-gray-500\",\n              children: \"Stats\"\n            }), /*#__PURE__*/_jsx(\"dd\", {\n              className: \"mt-1 text-sm text-gray-900 sm:mt-0 sm:col-span-2\",\n              children: /*#__PURE__*/_jsx(\"ul\", {\n                className: \"border border-gray-200 rounded-md divide-y divide-gray-200\",\n                children: pokemon.stats.map(function (stat) {\n                  return /*#__PURE__*/_jsxs(\"li\", {\n                    className: \"pl-3 pr-4 py-3 flex items-center justify-between text-sm\",\n                    children: [/*#__PURE__*/_jsx(\"div\", {\n                      className: \"w-0 flex-1 flex items-center\",\n                      children: /*#__PURE__*/_jsx(\"span\", {\n                        className: \"ml-2 flex-1 w-0 truncate uppercase\",\n                        children: kebabToTitleCase(stat.stat.name)\n                      })\n                    }), /*#__PURE__*/_jsxs(\"div\", {\n                      className: \"ml-4 flex-shrink-0\",\n                      children: [stat.base_stat, \" (\", stat.effort, \" Effort)\"]\n                    })]\n                  });\n                })\n              })\n            })]\n          })]\n        })\n      })]\n    });\n  } else {\n    content = /*#__PURE__*/_jsx(Loader, {\n      size: \"170px\"\n    });\n  }\n\n  return /*#__PURE__*/_jsxs(\"div\", {\n    className: \"flex flex-columns justify-center justify-items-center\",\n    children: [/*#__PURE__*/_jsxs(Head, {\n      children: [/*#__PURE__*/_jsx(\"title\", {\n        children: \"Pokemon Detail\"\n      }), /*#__PURE__*/_jsx(\"link\", {\n        rel: \"icon\",\n        href: \"/favicon.ico\"\n      })]\n    }), /*#__PURE__*/_jsx(ToastContainer, {\n      position: \"top-right\",\n      autoClose: 5000,\n      hideProgressBar: true,\n      newestOnTop: true,\n      closeOnClick: true,\n      rtl: false\n    }), /*#__PURE__*/_jsx(CatchPokeballModal, {\n      show: showModal,\n      updateShow: updateShowModal,\n      pokemon: pokemon\n    }), /*#__PURE__*/_jsx(Navigation, {\n      main: /*#__PURE__*/_jsx(\"div\", {\n        className: \"flex flex-column\",\n        children: /*#__PURE__*/_jsx(\"main\", {\n          className: \"flex-1 flex flex-column justify-center justify-items-center\",\n          children: content\n        })\n      })\n    })]\n  });\n}","map":null,"metadata":{},"sourceType":"module"}